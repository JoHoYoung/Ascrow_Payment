<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sharescrow.sample.repository.ProductRepository">
  <select id="selectProducts" resultType="product" parameterType="map">
    SELECT
      *
    FROM
      product
    LIMIT
      #{offset}, #{pageSize}
  </select>

  <select id="selectProduct" resultType="product">
    SELECT
      *
    FROM
      product
    WHERE
      product_no = #{productNo}
  </select>

  <insert id="insertProduct" parameterType="product" useGeneratedKeys="true" keyProperty="productNo">
    INSERT INTO product
    (
      product_id
      , product_name
      , price
    )
    VALUES
    (
      #{productId}
      , #{productName}
      , #{price}
    )
  </insert>

  <update id="updateProduct" parameterType="map">
    UPDATE product
    SET
      product_name = #{product.productName}
      , price = #{product.price}
      , update_ymdt = NOW()
    WHERE
      product_no = #{productNo}
  </update>
</mapper>